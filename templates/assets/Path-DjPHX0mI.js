import{d as h,r as b,o as g,c as y,w as k,e as v,a as c,b as s,_ as w}from"./index-DWseDgcO.js";import{n as l,p as r}from"./processing-DNryDmsH.js";const C=h({__name:"Path",setup($){const m=v(),i=b([]);let{path:n}=m.query;async function d(){let a=await l.request("/api/dirs/show/path",{path:n}),t=[];for(const e of a)t.push({name:e.name,type:r.typeProcessing(e.type,e.name),time:r.timeProcessing(e.time)});Object.assign(i,t)}d();function f(a){const t=document.createElement("a");let e="",o=a.name.toLowerCase();if(o.indexOf(".")!==-1){let p=o.split(".");e=p[p.length-1]}else e="folder";let u=["jpg","png","gif","jpeg","webp","svg","bmp","tiff","ico"],_=["mp4","m3u8","flv","mkv","avi","ts"];u.includes(e)?(t.href=`${l.domain}/api/image/?path=${n}/${a.name}`,t.target="_blank"):_.includes(e)?(t.href=`/player/plyr?url=${l.domain}/api/video/?path=${n}/${a.name}`,t.target="_blank"):e==="folder"?t.href=`/path?path=${n}/${a.name}`:t.href="#",document.body.appendChild(t),t.click(),document.body.removeChild(t)}return(a,t)=>{const e=c("el-table-column"),o=c("el-table");return g(),y(o,{data:i,stripe:"",style:{width:"100%"},onRowClick:f,class:"table-cur"},{default:k(()=>[s(e,{prop:"name",label:"名称",width:"600%"}),s(e,{prop:"type",label:"类型"}),s(e,{prop:"time",label:"日期"})]),_:1},8,["data"])}}}),j=w(C,[["__scopeId","data-v-d7cecfe2"]]);export{j as default};
